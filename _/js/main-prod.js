// ---------------------------------------------------------------------
// JSLint options.
// ---------------------------------------------------------------------
/*global $, matchMedia*//*jslint browser: true, nomen: true, plusplus: true */(function(){"use strict";function c(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return n;return 0}var e=$("body > header"),t=$(".nav-tab"),n=$(".slide-link"),r=$("header .slide-link"),i=0,s=0,o=$(".creative-video"),u="",a=["home","about-us","mobile-and-online","mobile-targeting","online-targeting","creative","closed-loop-offers","news-and-events"],f=["/_/media/main-nav-tab-inverted.png"],l=["/_/media/main-nav-tab-inverted-2x.png"];matchMedia("only screen and (-webkit-max-device-pixel-ratio:1.9), only screen and (max--moz-device-pixel-ratio:1.9), only screen and (-o-max-device-pixel-ratio:1.9/1), only screen and (max-device-pixel-ratio:1.9), only screen and (max-resolution:190dpi), only screen and (max-resolution:1.9dppx)").matches&&$(f).each(function(){$("<img />")[0].src=this});matchMedia("only screen and (-webkit-min-device-pixel-ratio:2), only screen and (min--moz-device-pixel-ratio:2), only screen and (-o-min-device-pixel-ratio:2/1), only screen and (min-device-pixel-ratio:2), only screen and (min-resolution:192dpi), only screen and (min-resolution:2dppx)").matches&&$(l).each(function(){$("<img />")[0].src=this});$(".inactive").click(function(e){e.preventDefault()});setTimeout(function(){e.addClass("tab-in-view with-animation")},1200);t.click(function(){e.toggleClass("tab-in-view");e.toggleClass("all-in-view");e.removeClass("with-animation")});r.click(function(){e.toggleClass("tab-in-view");e.toggleClass("all-in-view");e.removeClass("with-animation")});$(".modal-link").leanModal();if(matchMedia("only screen and (min-width:64em)").matches){$(".flipped-180").rotate(180);$(".rotate-trigger > span").rotate({bind:{click:function(){s+=180;$(".rotatable").rotate({animateTo:s,duration:300})}}})}$(o).each(function(){this.addEventListener("canplay",function(e){this.play()},!1)});if(matchMedia("only screen and (min-width:25.0625em)").matches){$(".slides-page .slide-link").click(function(e){e.preventDefault()});if(window.location.hash!==""){u=window.location.hash.replace("#","");i=c(u,a)}$(".flexslider").flexslider({controlNav:!1,animation:"slide",slideshow:!1,startAt:i,start:function(e){$("body").removeClass("loading");n.click(function(){var t=$(this).attr("href").replace("/#",""),n=c(t,a);if(e.currentSlide!==n){e.flexAnimate(n);window.location.hash=$(this).attr("href")}});var t=Math.max.apply(null,$(".slides > li").map(function(){return $(this).height()}).get()),r=$(window).height(),i=0;t>=r?i=t:i=r;$(".content").css("min-height",i+"px")},after:function(e){window.location.hash=a[e.currentSlide]}});setTimeout(function(){$(window).trigger("resize")},600)}if(matchMedia("only screen and (min-width:46.9375em)").matches){$(".team-bios article").hide(); $('.patrick-gauthier a img').addClass('selected'); $(".team-headshots a").click(function(e){$(".team-intro").hide();$(".team-bios article").hide();$(this).parent().siblings().find("img").removeClass("selected");$(".team-bios "+$(this).attr("href")).fadeIn("fast");$(this).find("img").addClass("selected");e.preventDefault()});}})();